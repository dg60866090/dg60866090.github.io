## node.js

자바스크립트 엔진이란 자바스크립트의 문법을 해석하고 실제로 동작시켜주는 엔진

런타임 : 프로그래밍 언어가 동작하는 환경



html, css , js 로 어떤 페이지를 만들 순 있지만, 그것만 갖고 만들기엔 비효율적.
그래서 개발하는 컴퓨터에 개발을 도와주는 모듈들 설치해서 도움받아서 개발한다!
이런 모듈들은 브라우저에서 직접적 동작하지 않기 때문에, node.js 를 통해서 브라우저에서 동작할 수 있게 변환해야함.





## nvm

node.js 버전을 원할 때 바꿀 수 있는 프로그램

- nvm 설치 : nvm install 버전이름
- nvm 삭제 : nvm uninstall 버전이름
- nvm 버전 변경 : run use 버전이름
- nvm 목록 : nvm ls
- nvm 관련 명령들 : nvm --help





## npm

npm(node package manager)은 전 세계의 개발자들이 만든 다양한 기능(패키지, 모듈)들을 관리함.

node.js 깔면 npm도 같이 설치 됨.

==> node.js 환경에서 여러가지 사용할 수 있는 모듈 패키지들(기능)을 관리하는 매니저

패키지는 모듈, 기능이라 한다.



- npm init -y 명령어 : 프로젝트 시작

- 그러면 package.json 파일이 깔림. 

- (난 여기서 처음 명령어 실행하면 자꾸 에러가 났는데, 폴더 이름을 한글에서 영어로 바꾼 후, 관리자 권한으로 실행했더니 에러 해결됨!!)

- npm 설치 : npm install 이름

- npm 설치하면 node_modules 란 폴더가 생성되고, 그 안에 내가 설치한 npm이 있다. (ex. parcel-bundler)

- node_modules 안에 있는 파일, 폴더들은 내가 설치한 패키지를 사용할 때 필요한 또 다른 패키지들이다.

- 만약 parcel-bundler 폴더에서 package.json 파일을 열면, 하단에 dependencies 옵션에 여러가지 사용한 패키지들이 작성되어져 있음. 

  

여기서 '-D' 붙인것은 package.json 파일에 devDependencies 옵션으로 설치. (-D 는 --save-dev 의 약어)
그냥 설치 할 경우, dependencies에 설치.
이 둘의 차이점은,
-D 를 붙여서 설치한 패키지는 "개발용 의존성 패키지 설치"으로, 개발할 때 패키지가 필요하고, 추후 웹브라우저에서 동작할 때는 필요하지 않음을 의미.
그냥 설치한 패키지는 "일반 의존성 설치"로, 실제로 웹브라우저에서 동작할 수도 있다!





이때, node_modules 폴더 삭제하고나서, ''터미널에서 모든 npm 패키지 설치하겠다!' 의 명령어인 npm install (== npm i 약어임) 를 입력하면, 다시 node_modules 폴더 생성됨.


그리고 패키지 설치하면 package-lock.json 파일이 생성되는데, 만약 내가 설치한 패키지(ex. parcel-bundler , lodash)에서 내부적으로 사용하는 패키지들의 정보값을 자동으로 보여줌. package-lock.json 은 자동으로 관리되기 때문에 우리가 건드릴 건 없음.

패키지 parcel-bundler 를 설치하면, parcel 이란 명령어 사용 가능.
'parcel html파일이름' ==> 이 뜻은,
내가 html파일을 기준으로 해서, 개발용으로 로컬에 서버를 열겠다 ! 그래서 서버에 접근을 해서 내가 만든 프로젝트를 브라우저에서 확인하겠다는 뜻!

따라서 사용하기 위해선, package.json 파일로 가서 scripts: 옵션에
"dev " : "parcel html파일이름"
적어주면, 내 프로젝트 내부에서만 스크립트 동작 함. dev 는 develope 의 약어로 개발이라는 뜻.
그 밑에, "build" : "parcel build index.html" 는 build 라는 추가 명령을 붙이면, 실제로 사용자가 보는 용도의 결과물이 출력됨.





웹 브라우저에서도 동작할 수 있는 lodash 패키지를 설치하고, 사용하기 위해선,
내가 만든 스크립트 파일을 들어가,
import _ from 'lodash' 라고 적음
그러면 node_modules 폴더에서 lodash 란폴더를 찾을 수 있고, 거기에서 package.json 파일의 main 옵션에 있는 스크립트를 가져와 쓸 수 있다는 뜻.

로컬용 서버 열렸을 때 터미널에서 ctrl+C 누르면 서버 종료되고 새롭게 터미널 명령을 입력할 수 있게 변경됨.

그리고 사용자가 볼 수 있는 build 스크립트를 실행하면 (npm run build) dist 라는 폴더 생성되고, dist 폴더 안에 내가 중심으로 설정해놓은 html 파일 밑, 스크립트가 복제되고, 복제된 index.html 들어가면 코드 난독화되있음.



코드 난독화는 작성된 코드를 읽기 어렵게 만드는 작업. 빌드된 결과(제품)는 브라우저에서 해석되는 용도로, 용량을 축소하고 읽기 어렵게 만드는 등 최적화를 거치는 것이 좋다.

번들 : 우리가 프로젝트 개발에 사용한 여러 모듈(패키지)을 하나로 묶어내는 작업.

dist 폴더 안의 내용들은 웹브라우저에서 동작하기 위해 만들어진 파일들이고, 번들과 난독화 과정을 거침.

